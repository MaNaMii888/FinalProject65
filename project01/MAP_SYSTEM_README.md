# р╕гр╕░р╕Ър╕Ър╣Бр╕Ьр╕Щр╕Чр╕╡р╣Ир╕нр╕▓р╕Др╕▓р╕гр╕Юр╕гр╣Йр╕нр╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Юр╕кр╕Хр╣М

## р╕ар╕▓р╕Юр╕гр╕зр╕б

р╕гр╕░р╕Ър╕Ър╣Бр╕Ьр╕Щр╕Чр╕╡р╣Ир╕нр╕▓р╕Др╕▓р╕гр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Гр╕лр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Ър╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Юр╕кр╕Хр╣Мр╣Др╕Фр╣Й р╣Вр╕Фр╕вр╕лр╣Йр╕нр╕Зр╣Гр╕Щр╕нр╕▓р╕Др╕▓р╕гр╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╕нр╕Зр╕лр╕▓р╕в/р╣Ар╕Ир╕нр╕Вр╕нр╕Зр╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕Зр╕Бр╕▒р╕Ър╕лр╣Йр╕нр╕Зр╕Щр╕▒р╣Йр╕Щр╣Ж

## р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Гр╕лр╕бр╣И

### 1. р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╣Йр╕нр╕Зр╣Бр╕Ър╕Ъ Interactive
- **р╕кр╕╡р╕Вр╕нр╕Зр╕лр╣Йр╕нр╕З**: р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕Вр╕нр╕Зр╕лр╣Йр╕нр╕Зр╕Хр╕▓р╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Юр╕кр╕Хр╣М
  - ЁЯФ╡ р╕кр╕╡р╕Яр╣Йр╕▓: р╕лр╣Йр╕нр╕Зр╕Ыр╕Бр╕Хр╕┤ (р╣Др╕бр╣Ир╕бр╕╡р╣Вр╕Юр╕кр╕Хр╣М)
  - ЁЯФ┤ р╕кр╕╡р╣Бр╕Фр╕З: р╕бр╕╡р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╕Вр╕нр╕Зр╕лр╕▓р╕в
  - ЁЯЯв р╕кр╕╡р╣Ар╕Вр╕╡р╕вр╕з: р╕бр╕╡р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Ир╕нр╕Вр╕нр╕З
  - ЁЯЯа р╕кр╕╡р╕кр╣Йр╕б: р╕бр╕╡р╕Чр╕▒р╣Йр╕Зр╕Вр╕нр╕Зр╕лр╕▓р╕вр╣Бр╕ер╕░р╣Ар╕Ир╕нр╕Вр╕нр╕З
  - ЁЯЯб р╕кр╕╡р╣Ар╕лр╕ер╕╖р╕нр╕З: р╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕Хр╕гр╕Зр╕Бр╕▒р╕Ър╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓

### 2. р╣Др╕нр╕Др╕нр╕Щр╣Бр╕кр╕Фр╕Зр╕Ир╕│р╕Щр╕зр╕Щр╣Вр╕Юр╕кр╕Хр╣М
- р╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╣Ар╕ер╕Вр╕Ир╕│р╕Щр╕зр╕Щр╣Вр╕Юр╕кр╕Хр╣Мр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╕Щр╕▒р╣Йр╕Щр╣Ж
- р╕Ыр╕гр╕▓р╕Бр╕Пр╕Чр╕╡р╣Ир╕бр╕╕р╕бр╕Вр╕зр╕▓р╕Ър╕Щр╕Вр╕нр╕Зр╕лр╣Йр╕нр╕Зр╕Чр╕╡р╣Ир╕бр╕╡р╣Вр╕Юр╕кр╕Хр╣М

### 3. р╕Бр╕▓р╕гр╕Др╕ер╕┤р╕Бр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф
- р╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣Ир╕лр╣Йр╕нр╕Зр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Вр╕Юр╕кр╕Хр╣Мр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╕Щр╕▒р╣Йр╕Щ
- р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Юр╕кр╕Хр╣Мр╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ Dialog
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣Ир╣Вр╕Юр╕кр╕Хр╣Мр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б

### 4. Legend (р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕кр╕╡)
- р╣Бр╕кр╕Фр╕Зр╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕вр╕Вр╕нр╕Зр╕кр╕╡р╕Хр╣Ир╕▓р╕Зр╣Ж р╣Гр╕Щр╕Ьр╕▒р╕Зр╕нр╕▓р╕Др╕▓р╕г
- р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Лр╣Ир╕нр╕Щ/р╣Бр╕кр╕Фр╕Зр╣Др╕Фр╣Й
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Чр╕▒р╣Йр╕Зр╕бр╕╖р╕нр╕Цр╕╖р╕нр╣Бр╕ер╕░р╣Бр╕Чр╣Зр╕Ър╣Ар╕ер╣Зр╕Х

### 5. р╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ъ Real-time
- р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Юр╕кр╕Хр╣Мр╕Ир╕▓р╕Б Firebase
- р╕Ыр╕╕р╣Ир╕б Refresh р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╕бр╣И
- р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е

## р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М

### Models
- `lib/Screen/page/map/mapmodel/building_data.dart`
  - `RoomData`: р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╣Йр╕нр╕Зр╣Бр╕ер╕░р╣Вр╕Юр╕кр╕Хр╣Мр╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З
  - `BuildingDataService`: Service р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б Firebase

### Painters
- `lib/Screen/page/map/painters/floor_plan_a_painter.dart`
- `lib/Screen/page/map/painters/floor_plan_b_painter.dart`
  - р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╣Йр╕нр╕Зр╣Бр╕ер╕░р╣Бр╕кр╕Фр╕Зр╕кр╕╡р╕Хр╕▓р╕бр╕кр╕Цр╕▓р╕Щр╕░

### Widgets
- `lib/Screen/page/map/widgets/interactive_floor_plan.dart`
  - Widget р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Др╕ер╕┤р╕Бр╣Бр╕ер╕░р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╣Йр╕нр╕З
- `lib/Screen/page/map/widgets/room_posts_dialog.dart`
  - Dialog р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Вр╕Юр╕кр╕Хр╣Мр╣Гр╕Щр╕лр╣Йр╕нр╕З
- `lib/Screen/page/map/widgets/building_legend.dart`
  - Legend р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕Др╕зр╕▓р╕бр╕лр╕бр╕▓р╕вр╕Вр╕нр╕Зр╕кр╕╡

### Navigation
- `lib/Screen/page/map/campus_navigation.dart`
  - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╣Бр╕кр╕Фр╕Зр╕Ьр╕е

## р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
1. р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓ "р╕нр╕▓р╕Др╕▓р╕г" р╣Гр╕Щр╣Бр╕нр╕Ю
2. р╣Ар╕ер╕╖р╕нр╕Бр╕нр╕▓р╕Др╕▓р╕гр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Фр╕╣
3. р╕Фр╕╣р╕кр╕╡р╕Вр╕нр╕Зр╕лр╣Йр╕нр╕Зр╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕кр╕Цр╕▓р╕Щр╕░
4. р╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣Ир╕лр╣Йр╕нр╕Зр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Вр╕Юр╕кр╕Хр╣М
5. р╣Гр╕Кр╣Йр╕Ыр╕╕р╣Ир╕б Refresh р╣Ар╕Юр╕╖р╣Ир╕нр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╕бр╣И

### р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Щр╕▒р╕Бр╕Юр╕▒р╕Тр╕Щр╕▓
1. р╣Ар╕Юр╕┤р╣Ир╕бр╕лр╣Йр╕нр╕Зр╣Гр╕лр╕бр╣Ир╣Гр╕Щ `building_data.dart`
2. р╕Бр╕│р╕лр╕Щр╕Фр╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╕лр╣Йр╕нр╕Зр╣Гр╕Щ `interactive_floor_plan.dart`
3. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕зр╕▓р╕Фр╕лр╣Йр╕нр╕Зр╣Гр╕Щ painter р╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З

## р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

### р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ Firebase
```json
{
  "lost_found_items": {
    "building": "A",  // р╕нр╕▓р╕Др╕▓р╕г
    "location": "1",  // р╕лр╣Йр╕нр╕З
    "title": "р╣Бр╕Ир╣Йр╕Зр╕Вр╕нр╕Зр╕лр╕▓р╕в",
    "description": "р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф",
    "isLostItem": true,
    "createdAt": "timestamp"
  }
}
```

### р╕Бр╕▓р╕гр╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
- `BuildingDataService.getRoomData()`: р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╣Йр╕нр╕Зр╣Ар╕Фр╕╡р╕вр╕з
- `BuildingDataService.getBuildingDataWithPosts()`: р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▓р╕Др╕▓р╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- `BuildingDataService.getPostsForRoom()`: р╕Фр╕╢р╕Зр╣Вр╕Юр╕кр╕Хр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╕лр╣Йр╕нр╕Зр╣Ар╕Фр╕╡р╕вр╕з

## р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З

### р╣Ар╕Юр╕┤р╣Ир╕бр╕лр╣Йр╕нр╕Зр╣Гр╕лр╕бр╣И
1. р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ `building_data.dart`
2. р╕Бр╕│р╕лр╕Щр╕Фр╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╣Гр╕Щ `interactive_floor_plan.dart`
3. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕зр╕▓р╕Фр╣Гр╕Щ painter

### р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕кр╕╡
р╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕Щ `_drawRoom()` method р╕Вр╕нр╕З painter р╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З

### р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕лр╕бр╣И
1. р╕кр╕гр╣Йр╕▓р╕З widget р╣Гр╕лр╕бр╣И
2. р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ `campus_navigation.dart`
3. р╕нр╕▒р╕Юр╣Ар╕Фр╕Ч UI р╕Хр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г

## р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З

1. **Performance**: р╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕ер╕▓р╕вр╕лр╣Йр╕нр╕Зр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щр╕нр╕▓р╕Ир╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щ
2. **Error Handling**: р╕Др╕зр╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕гр╕Ур╕╡р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕гр╕╖р╕нр╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф
3. **Caching**: р╕Др╕зр╕гр╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕Кр╣Й caching р╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Фр╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Лр╣Йр╕│
4. **Real-time Updates**: р╕Др╕зр╕гр╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕Кр╣Й Firebase Realtime Database р╕лр╕гр╕╖р╕н Firestore listeners

## р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

1. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Др╕ер╕┤р╕Бр╕лр╣Йр╕нр╕Зр╕Хр╣Ир╕▓р╕Зр╣Ж
2. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ Dialog
3. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б Firebase
4. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Ър╕Щр╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Хр╣Ир╕▓р╕Зр╣Ж
5. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╣Ар╕бр╕╖р╣Ир╕нр╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕е

## р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х

1. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Бр╕Ър╕Ъ Real-time
2. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╕лр╣Йр╕нр╕З
3. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Бр╕гр╕нр╕Зр╣Вр╕Юр╕кр╕Хр╣Мр╕Хр╕▓р╕бр╕Ыр╕гр╕░р╣Ар╕ар╕Ч
4. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕Вр╕нр╕Зр╕лр╣Йр╕нр╕З
5. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╣Вр╕Юр╕кр╕Хр╣Мр╣Гр╕лр╕бр╣И 